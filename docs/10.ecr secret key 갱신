###########fastapi용
# 1. 먼저 기존 Secret 삭제 (있으면)
kubectl delete secret ecr-registry -n fastapi || true

# 2. 새로 Secret 생성
aws ecr get-login-password --region ap-northeast-2 | kubectl create secret docker-registry ecr-registry \
  --docker-server=329599615061.dkr.ecr.ap-northeast-2.amazonaws.com \
  --docker-username=AWS \
  --docker-password=$(aws ecr get-login-password --region ap-northeast-2) \
  --namespace fastapi

########### cronjob용 mkube-syste네임스페이스용 
aws ecr get-login-password --region ap-northeast-2 | \
kubectl create secret docker-registry ecr-registry \
  --docker-server=329599615061.dkr.ecr.ap-northeast-2.amazonaws.com \
  --docker-username=AWS \
  --docker-password=$(aws ecr get-login-password --region ap-northeast-2) \
  -n kube-system



크론잡 수동실행
kubectl create job --from=cronjob/ecr-token-refresher ecr-token-refresher-manual-$(date +%s) -n kube-system

파드생성 확인 
kubectl get pods -n kube-system

파드 로그 확인
kubectl logs [생성된 파드 이름] -n kube-system

fastapi 용 namespace에서 시크릿키 복제
kubectl get secret byhyeon-secret -n fastapi -o yaml > byhyeon-secret.yaml

kubectl get secret byhyeon-secret -n kube-system

kubectl get secret byhyeon-secret -n fastapi